{"version":3,"sources":["../../src/providers/auth.provider.ts","../../src/providers/user.provider.ts","../../src/shared/user.service.ts","../../src/pages/get-ticket-auth/get-ticket-auth.ts","../../node_modules/@angular/core/@angular lazy","../../src/shared/microservice.service.ts","../../src lazy","../../src/pages/home/home.ts","../../src/pages/list/list.ts","../../src/pages/login/login.ts","../../src/pages/usersList/usersList.ts","../../src/pages/load-data/load-data.ts","../../src/providers/load-data.provider.ts","../../src/pages/rooms/rooms.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/components/show-room.component.ts","../../src/components/select-wears.component.ts","../../src/components/select-shop.component.ts","../../src/components/get-ticket.component.ts","../../src/components/wall-next-person.ts","../../src/components/show-queue.component.ts","../../src/environments/environment.ts","../../src/reducers/index.ts","../../src/reducers/queue.ts","../../src/actions/queues.ts","../../src/app/app.component.ts","../../src/shared/load-queue.ts","../../src/shared/load-shops.ts","../../src/shared/queue.service.ts","../../src/shared/shops.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { UserLogin } from '../models/user.model';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport * as firebase from 'firebase/app';\r\n\r\n@Injectable()\r\nexport class AuthProvider {\r\n    private user: Observable<firebase.User>;\r\n    private userDetails: firebase.User = null;\r\n    constructor(private afAuth: AngularFireAuth) {\r\n        this.user = afAuth.authState;\r\n        this.user.subscribe(\r\n            (user) => {\r\n                if (user) {\r\n                    this.userDetails = user;\r\n                }\r\n                else {\r\n                    this.userDetails = null;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    login(user: UserLogin) {\r\n      return this.afAuth.auth.signInWithEmailAndPassword(user.email, user.password);\r\n    }\r\n\r\n    register(user: UserLogin) {\r\n        return this.afAuth.auth.createUserWithEmailAndPassword(user.email, user.password);\r\n    }\r\n\r\n    getAuthState(){\r\n        return this.afAuth.authState;\r\n    }\r\n\r\n    logout() {\r\n        this.afAuth.auth.signOut();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth.provider.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { UserData } from '../models/user.model';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireDatabase } from 'angularfire2/database'\r\nimport * as firebase from 'firebase/app';\r\n\r\n@Injectable()\r\nexport class UserProvider {\r\n\r\n    constructor(private afDataBase: AngularFireDatabase) {}\r\n\r\n    createUser(user: UserData) {\r\n\r\n      return this.afDataBase.database.ref(`/users`).child(user.uid).set({\r\n        uid: user.uid,\r\n        name: user.email.replace(/@.*/, ''),\r\n        email: user.email\r\n      });\r\n    }\r\n\r\n    getUsers() {\r\n      return this.afDataBase.list('/users').valueChanges();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user.provider.ts","import { Injectable, NgZone } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { AngularFireDatabase } from 'angularfire2/database'\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/switchMap';\r\n\r\nimport { User } from '../models/user';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n  \r\n  user: User;\r\n  user$: Observable<User>;\r\n  userPath: string = '/users'\r\n\r\n  constructor(private afDataBase: AngularFireDatabase) {   \r\n  }\r\n\r\n  listenUser(uid) {\r\n    this.afDataBase.object(`${this.userPath}/${uid}`).valueChanges()\r\n      .subscribe((e: User) => {\r\n        this.user = e;\r\n        console.log(e);\r\n      })\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/user.service.ts","import { ObjQueue } from './../../models/object-queue';\r\nimport { QueueService } from './../../shared/queue.service';\r\nimport { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireDatabase } from 'angularfire2/database'\r\n\r\nimport { ShopService } from '../../shared/shops.service';\r\nimport { UserService } from '../../shared/user.service';\r\nimport { Shop } from '../../models/shop';\r\nimport * as fromRoot from '../../reducers';\r\n\r\n@Component({\r\n  selector: 'get-ticket-auth',\r\n  templateUrl: 'get-ticket-auth.html',\r\n  styles: [`\r\n    .box-rsvp {\r\n      margin: 30px;\r\n    }\r\n  `]\r\n})\r\nexport class GetTicketAuthPage {\r\n  shops$: Observable<Shop[]>;\r\n  selectedShop: Shop;\r\n  selectedWear: number;\r\n  reserved: boolean = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private store: Store<fromRoot.State>,\r\n    private shopService: ShopService,\r\n    private afDataBase: AngularFireDatabase,\r\n    private userService: UserService,\r\n    private queueService: QueueService) {\r\n\r\n    this.shops$ = this.shopService.listenShop();\r\n  }\r\n\r\n  selectShop(shop) {\r\n    this.selectedShop = shop;\r\n  }\r\n\r\n  reserve() {\r\n    const objQueue: ObjQueue = {\r\n      userId: this.userService.user.uid,\r\n      name: this.userService.user.name,\r\n      timestamp: new Date().getTime(),\r\n      wearCount: this.selectedWear,\r\n      wearAvg: !this.userService.user.wearAvg ? this.selectedShop.wearAvg : this.userService.user.wearAvg\r\n    }\r\n    this.reserved = true;\r\n    this.afDataBase.database.ref(`/queues`).child(this.selectedShop.id).push(objQueue);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/get-ticket-auth/get-ticket-auth.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 158;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 158\n// module chunks = 0","import { ObjQueue } from './../models/object-queue';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n@Injectable()\r\nexport class MicroserviceService {\r\n\r\n  path = 'http://h2729551.stratoserver.net:9090';\r\n  constructor(private _http: HttpClient) { }\r\n\r\n  occupateRoom(shopId: string, roomId: string, userPayload: ObjQueue): Observable<any> {\r\n    return this._http.post(`${this.path}/${shopId}/${roomId}`, { user: userPayload});\r\n  }\r\n\r\n  desoccupateRoom(shopId: string, roomId: string): Observable<any> {\r\n    return this._http.post(`${this.path}/${shopId}/${roomId}`, {});\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/microservice.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 208;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 208\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as fromRoot from '../../reducers';\r\nimport { ObjQueue } from '../../models/object-queue';\r\nimport { QueueService } from '../../shared/queue.service';\r\n\r\nimport { Shop } from '../../models/shop';\r\nimport { ShopService } from '../../shared/shops.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n  styles: [`\r\n    wall-next-person {\r\n      margin: 30px;\r\n    }\r\n  `]\r\n})\r\nexport class HomePage {\r\n  nextUserGranVia$: Observable<ObjQueue[]>\r\n  nextUserSol$: Observable<ObjQueue[]>\r\n  nextUserPreciados$: Observable<ObjQueue[]>\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    private store: Store<fromRoot.State>,\r\n    private shopService: ShopService,    \r\n    private queueService: QueueService\r\n  ) {\r\n    this.nextUserGranVia$ = this.queueService.getNextUser('/granvia');\r\n    this.nextUserPreciados$= this.queueService.getNextUser('/preciados');\r\n    this.nextUserSol$ = this.queueService.getNextUser('/sol');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-list',\r\n  templateUrl: 'list.html'\r\n})\r\nexport class ListPage {\r\n  selectedItem: any;\r\n  icons: string[];\r\n  items: Array<{title: string, note: string, icon: string}>;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n    // If we navigated to this page, we will have an item available as a nav param\r\n    this.selectedItem = navParams.get('item');\r\n\r\n    // Let's populate this page with some filler content for funzies\r\n    this.icons = ['flask', 'wifi', 'beer', 'football', 'basketball', 'paper-plane',\r\n    'american-football', 'boat', 'bluetooth', 'build'];\r\n\r\n    this.items = [];\r\n    for (let i = 1; i < 11; i++) {\r\n      this.items.push({\r\n        title: 'Item ' + i,\r\n        note: 'This is item #' + i,\r\n        icon: this.icons[Math.floor(Math.random() * this.icons.length)]\r\n      });\r\n    }\r\n  }\r\n\r\n  itemTapped(event, item) {\r\n    // That's right, we're pushing to ourselves!\r\n    this.navCtrl.push(ListPage, {\r\n      item: item\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { UserLogin} from '../../models/user.model';\r\nimport { AuthProvider } from \"../../providers/auth.provider\";\r\nimport { UserProvider } from \"../../providers/user.provider\";\r\nimport { UserService } from \"../../shared/user.service\";\r\nimport { GetTicketAuthPage } from './../get-ticket-auth/get-ticket-auth';\r\n\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n\r\n    user = {\r\n        email : '',\r\n        password: ''\r\n    } as UserLogin;\r\n\r\n    error;\r\n\r\n    constructor(\r\n      public navCtrl: NavController, \r\n      public navParams: NavParams, \r\n      private authProvider: AuthProvider, \r\n      private userProvider: UserProvider,\r\n      private userService: UserService\r\n    ) {}\r\n\r\n    login(user: UserLogin) {\r\n\r\n      this.authProvider.login(user).then(result => {\r\n        if(result){\r\n          this.userService.listenUser(result.uid);\r\n          this.navCtrl.setRoot(GetTicketAuthPage);\r\n        }\r\n        \r\n      }).catch (e =>  {\r\n        this.error = e;\r\n      })\r\n    }\r\n    \r\n    register(user: any) {\r\n      \r\n      user.wearAvg = 0;\r\n      user.wearCount = 0;\r\n      \r\n      this.authProvider.register(user)\r\n      .then( authData => {\r\n        this.userService.listenUser(authData.uid);\r\n        return this.userProvider.createUser(authData);\r\n      }).then(result =>  {\r\n        this.navCtrl.setRoot(GetTicketAuthPage);\r\n      }).catch (e =>  {\r\n        this.error = e;\r\n      });\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Observable } from 'rxjs/Observable';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { UserProvider } from './../../providers/user.provider';\r\n\r\n@Component({\r\n  selector: 'users-list',\r\n  templateUrl: 'usersList.html'\r\n})\r\nexport class UsersListPage {\r\n  selectedItem: any;\r\n  users$: Observable<any>;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private userProvider: UserProvider) {\r\n    this.users$ = this.userProvider.getUsers();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/usersList/usersList.ts","import { Observable } from 'rxjs/Observable';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { UserProvider } from './../../providers/user.provider';\r\nimport { LoadDataProvider } from './../../providers/load-data.provider';\r\n\r\n@Component({\r\n  selector: 'load-data',\r\n  templateUrl: 'load-data.html'\r\n})\r\nexport class LoadDataPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private loadDataProvider: LoadDataProvider) {\r\n\r\n  }\r\n\r\n  loadShops() {\r\n    this.loadDataProvider.createShops();\r\n  }\r\n  loadQueues() {\r\n    this.loadDataProvider.createQueues();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/load-data/load-data.ts","import { queues } from './../shared/load-queue';\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { AngularFireDatabase } from 'angularfire2/database'\r\nimport { shops } from './../shared/load-shops';\r\n\r\n@Injectable()\r\nexport class LoadDataProvider {\r\n\r\n    constructor(private afDataBase: AngularFireDatabase) {}\r\n\r\n    createShops() {\r\n\r\n      Object.keys(shops).forEach(key => {\r\n        this.afDataBase.database.ref(`/shops`).child(key).set(shops[key]);\r\n      });\r\n    }\r\n    createQueues() {\r\n\r\n      Object.keys(queues).forEach(keyShop => {\r\n        queues[keyShop].forEach(data => {\r\n          this.afDataBase.database.ref(`/queues`).child(keyShop).push(data);\r\n        });\r\n\r\n      });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/load-data.provider.ts","import { MicroserviceService } from './../../shared/microservice.service';\r\nimport { ShopService } from './../../shared/shops.service';\r\n\r\nimport { ObjQueue } from './../../models/object-queue';\r\nimport { QueueService } from './../../shared/queue.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n\r\n@Component({\r\n  selector: 'rooms',\r\n  templateUrl: 'rooms.html',\r\n  styles: [`\r\n    .container-bussines{\r\n      display: flex;\r\n    }\r\n  `]\r\n})\r\nexport class RoomsPage implements OnInit {\r\n\r\n  selectedShop: string;\r\n  queue$: Observable<ObjQueue[]>\r\n  rooms$: Observable<{}>\r\n  shops$: Observable<{}>\r\n  constructor(public navCtrl: NavController, private queueService: QueueService, private shopService: ShopService, private micoservice: MicroserviceService) { }\r\n\r\n  ngOnInit() {\r\n    this.shops$ = this.shopService.listenShop();\r\n  }\r\n\r\n  updateRoom(roomId, occupied) {\r\n    if(!occupied) {\r\n      this.queueService.popUser('/granvia').then( user => {\r\n        this.micoservice.occupateRoom('granvia',roomId,user).subscribe(e=>console.log(e));\r\n      });\r\n    } else {\r\n      this.micoservice.desoccupateRoom('granvia',roomId).subscribe(e=>console.log(e));\r\n    }\r\n\r\n  }\r\n\r\n  selectShop(shop) {\r\n    this.selectedShop = shop;\r\n    this.queue$ = this.queueService.listenQueue(`/${this.selectedShop}`);\r\n    this.rooms$ = this.shopService.listenShop(`/${this.selectedShop}/rooms`);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rooms/rooms.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { MicroserviceService } from './../shared/microservice.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ShowRoomComponent, ShowRoomItemComponent } from './../components/show-room.component';\r\nimport { SelectWearsComponent } from './../components/select-wears.component';\r\nimport { SelectShopComponent } from './../components/select-shop.component';\r\nimport { GetTicketComponent } from './../components/get-ticket.component';\r\nimport { WallNextPerson } from './../components/wall-next-person';\r\nimport { ShowQueueComponent, ShowQueueItemComponent } from './../components/show-queue.component';\r\n\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { environment } from '../environments/environment';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\n\r\nimport { reducers, metaReducers } from '../reducers';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { ListPage } from '../pages/list/list';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { UsersListPage } from './../pages/usersList/usersList';\r\nimport { LoadDataPage } from './../pages/load-data/load-data';\r\nimport { AuthProvider } from './../providers/auth.provider';\r\nimport { UserProvider } from './../providers/user.provider';\r\nimport { LoadDataProvider } from './../providers/load-data.provider';\r\nimport { GetTicketAuthPage } from './../pages/get-ticket-auth/get-ticket-auth';\r\nimport { RoomsPage } from './../pages/rooms/rooms';\r\n\r\nimport { QueueService } from '../shared/queue.service';\r\nimport { ShopService } from '../shared/shops.service';\r\nimport { UserService } from '../shared/user.service';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    ListPage,\r\n    LoginPage,\r\n    UsersListPage,\r\n    LoadDataPage,\r\n    GetTicketAuthPage,\r\n    SelectShopComponent,\r\n    SelectWearsComponent,\r\n    GetTicketComponent,\r\n    ShowQueueComponent,    \r\n    ShowRoomComponent,\r\n    ShowRoomItemComponent,\r\n    RoomsPage,\r\n    WallNextPerson,\r\n    ShowQueueItemComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    StoreModule.forRoot(reducers, { metaReducers }),\r\n    IonicModule.forRoot(MyApp),\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireAuthModule,\r\n    AngularFireDatabaseModule,\r\n    HttpClientModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    ListPage,\r\n    LoginPage,\r\n    UsersListPage,\r\n    LoadDataPage,\r\n    GetTicketAuthPage,\r\n    RoomsPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    AuthProvider,\r\n    UserProvider,\r\n    LoadDataProvider,\r\n    QueueService,\r\n    ShopService,\r\n    UserService,\r\n    MicroserviceService\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'show-room-item',\r\n  template: `\r\n  <ion-card>\r\n    <ion-card-header>\r\n      <div class=\"title\"> Probador {{roomId}}</div> <div class=\"semaphore\" [class.occupied]=\"occupied\"></div>\r\n    </ion-card-header>\r\n    <hr *ngIf=\"occupied\">\r\n    <ion-card-content *ngIf=\"occupied\">\r\n      Ticket: {{ timestamp }}\r\n      <br>\r\n      WearCount: {{ wearCount }}\r\n    </ion-card-content>\r\n  </ion-card>\r\n  <!--div class=\"show-room-item\" [class.occupied]=\"occupied\">\r\n    Probador: {{roomId}}\r\n    <div *ngIf=\"occupied\">\r\n      Ticket: {{ timestamp }}\r\n      WearCount: {{ wearCount }}\r\n    </div>\r\n\r\n  </div-->\r\n  `,\r\n  styles:[`\r\n    .show-room-item{\r\n      margin: 15px;\r\n    }\r\n    .semaphore {\r\n      width: 20px;\r\n      height: 20px;\r\n      border-radius: 10px;\r\n      background-color: green;\r\n      position: relative;\r\n      float:right;\r\n    }\r\n    .title{\r\n      position: relative;\r\n      margin-right: 10px;\r\n      float:left;\r\n    }\r\n    .occupied {\r\n      background-color: red;\r\n    }\r\n  `]\r\n})\r\nexport class ShowRoomItemComponent {\r\n  @Input('roomId') roomId: string;\r\n  @Input('occupied') occupied = false;\r\n  @Input('userId') ticket : number;\r\n  @Input('name') userId : string;\r\n  @Input('timestamp') timestamp : number;\r\n  @Input('wearCount') wearCount : number;\r\n  @Input('wearAvg') wearAvg : number;\r\n}\r\n\r\n@Component({\r\n  selector: 'show-room',\r\n  template: `\r\n  <div class=\"show-room\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n  `,\r\n  styles:[`\r\n    .show-room{\r\n      display: flex;\r\n    }\r\n`]\r\n})\r\nexport class ShowRoomComponent {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/show-room.component.ts","import { Component, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'select-wears',\r\n  template: `\r\n    <ion-label>Selecciona el número de prendas</ion-label>\r\n    <div class=\"select-wears\">\r\n      <button ion-button (click)=\"numWear.emit(1) && selected = 1\">1</button>\r\n      <button ion-button (click)=\"numWear.emit(2) && selected = 2\">2</button>\r\n      <button ion-button (click)=\"numWear.emit(3) && selected = 3\">3</button>\r\n      <button ion-button (click)=\"numWear.emit(4) && selected = 4\">4</button>\r\n      <button ion-button (click)=\"numWear.emit(5) && selected = 5\">5</button>\r\n    </div>\r\n  `,\r\n  styles:[`\r\n    .select-wears{\r\n      display: flex;\r\n    }\r\n  `]\r\n})\r\nexport class SelectWearsComponent {\r\n  @Output() numWear = new EventEmitter();\r\n  selected: number;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-wears.component.ts","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'select-shop',\r\n  template: `<ion-item>\r\n              <ion-label>Selecciona tienda</ion-label>\r\n              <ion-select [(ngModel)]=\"shop\">\r\n                <ion-option value=\"granvia\">Zara Gran Vía</ion-option>\r\n                <ion-option value=\"sol\">Zara Sol</ion-option>\r\n                <ion-option value=\"preciados\">Zara Preciados</ion-option>\r\n              </ion-select>\r\n            </ion-item>\r\n  `\r\n})\r\nexport class SelectShopComponent {\r\n\r\n  shop: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-shop.component.ts","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'get-ticket',\r\n  template: `\r\n  `\r\n})\r\nexport class GetTicketComponent {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/get-ticket.component.ts","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { User } from '../models/user';\r\n\r\n@Component({\r\n  selector: 'wall-next-person',\r\n  encapsulation: ViewEncapsulation.None,\r\n  styles: [`\r\n  .header {\r\n    \r\n  }\r\n  .content {\r\n    \r\n  }\r\n  .number {\r\n    font-size: 25px;\r\n  }\r\n  .name {\r\n    font-size: 25px;    \r\n  }\r\n  `],\r\n  template: `\r\n  <ion-card>\r\n    <ion-card-header class=\"header\">\r\n      {{shop}}\r\n    </ion-card-header>\r\n    <ion-card-content class=\"content\">    \r\n    {{user | json}}\r\n      <span *ngIf=\"user\" class=\"number\">{{user?.name}}</span> con el número <span class=\"name\">{{user?.timestamp}}</span> puede acudir a los probadores\r\n      <span *ngIf=\"!!user\">Los probadores están vacios.</span>\r\n    </ion-card-content>\r\n  </ion-card>\r\n  `\r\n})\r\nexport class WallNextPerson {\r\n  @Input('nameShop') shop: string;\r\n  @Input('user') user: User;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/wall-next-person.ts","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'show-queue-item',\r\n  template: `\r\n  <div class=\"show-queue-item\">\r\n    {{ticket}}\r\n  </div>\r\n  `,\r\n  styles:[`\r\n  .show-queue-item{\r\n    padding: 10px;\r\n    margin: 5px;\r\n    border: solid 1px #000;\r\n  }`]\r\n\r\n})\r\nexport class ShowQueueItemComponent {\r\n  @Input('ticket') ticket: string;\r\n  @Input('userId') userId: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'show-queue',\r\n  template: `<ng-content></ng-content>\r\n  `\r\n})\r\nexport class ShowQueueComponent {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/show-queue.component.ts","export const environment = {\r\n  firebase: {\r\n    apiKey: \"AIzaSyCvrBiFoHCb73j5SajWs4nwCddRj8W7ERc\",\r\n    authDomain: \"hackatoninditex.firebaseapp.com\",\r\n    databaseURL: \"https://hackatoninditex.firebaseio.com\",\r\n    projectId: \"hackatoninditex\",\r\n    storageBucket: \"hackatoninditex.appspot.com\",\r\n    messagingSenderId: \"958263387207\"\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import {\r\n  ActionReducerMap,\r\n  createSelector,\r\n  createFeatureSelector,\r\n  ActionReducer,\r\n  MetaReducer\r\n} from '@ngrx/store';\r\n\r\n/**\r\n * storeFreeze prevents state from being mutated. When mutation occurs, an\r\n * exception will be thrown. This is useful during development mode to\r\n * ensure that none of the reducers accidentally mutates the state.\r\n */\r\nimport { storeFreeze } from 'ngrx-store-freeze';\r\n\r\n/**\r\n * Every reducer module's default export is the reducer function itself. In\r\n * addition, each module should export a type or interface that describes\r\n * the state of the reducer plus any selector functions. The `* as`\r\n * notation packages up all of the exports into a single object.\r\n */\r\n\r\nimport * as fromQueue from './queue';\r\n\r\n/**\r\n * As mentioned, we treat each reducer like a table in a database. This means\r\n * our top level state interface is just a map of keys to inner state types.\r\n */\r\nexport interface State {\r\n  queue: fromQueue.State;\r\n}\r\n\r\n/**\r\n * Our state is composed of a map of action reducer functions.\r\n * These reducer functions are called with each dispatched action\r\n * and the current or initial state and return a new immutable state.\r\n */\r\nexport const reducers: ActionReducerMap<State> = {\r\n  queue: fromQueue.reducer\r\n};\r\n\r\n// console.log all actions\r\nexport function logger(reducer: ActionReducer<State>): ActionReducer<State> {\r\n  return function(state: State, action: any): State {\r\n    console.log('state', state);\r\n    console.log('action', action);\r\n    return reducer(state, action);\r\n  };\r\n}\r\n\r\n/**\r\n * By default, @ngrx/store uses combineReducers with the reducer map to compose\r\n * the root meta-reducer. To add more meta-reducers, provide an array of meta-reducers\r\n * that will be composed to form the root meta-reducer.\r\n */\r\nexport const metaReducers: MetaReducer<State>[] = [logger, storeFreeze];\r\n\r\n/**\r\n * Layout Selectors\r\n */\r\nexport const getQueueState = createFeatureSelector<fromQueue.State>('queue');\r\nexport const getQueue = createSelector(getQueueState, fromQueue.getQueues);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.ts","//import { createSelector } from 'reselect';\r\nimport { createSelector } from '@ngrx/store';\r\nimport { ObjQueue } from '../models/object-queue';\r\nimport * as queues from '../actions/queues';\r\n\r\n\r\nexport interface State {\r\n  queues: ObjQueue[]\r\n};\r\n \r\nexport const initialState: State = {\r\n  queues: []\r\n};\r\n\r\nexport function reducer(state = initialState, action: queues.Actions): State {\r\n  switch (action.type) {\r\n    case queues.UPDATE: {\r\n      const queues = action.payload;\r\n      console.log('here', action.payload);\r\n      return {\r\n        //...state,\r\n        queues: [...queues]\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Because the data structure is defined within the reducer it is optimal to\r\n * locate our selector functions at this level. If store is to be thought of\r\n * as a database, and reducers the tables, selectors can be considered the\r\n * queries into said database. Remember to keep your selectors small and\r\n * focused so they can be combined and composed to fit each particular\r\n * use-case.\r\n */\r\nexport const getQueues = (state: State) => state.queues;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/queue.ts","import { Action } from '@ngrx/store';\r\nimport { ObjQueue } from '../models/object-queue';\r\n\r\nexport const UPDATE = '[Queues] Update';\r\nexport const ASK_TURN = '[Queues] Ask Turn';\r\n\r\n/**\r\n * Every action is comprised of at least a type and an optional\r\n * payload. Expressing actions as classes enables powerful\r\n * type checking in reducer functions.\r\n *\r\n * See Discriminated Unions: https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\r\n */\r\n\r\nexport class Update implements Action {\r\n  readonly type = UPDATE;\r\n\r\n  constructor(public payload: ObjQueue[]) {}\r\n}\r\n\r\n/**\r\n * Export a type alias of all actions in this action group\r\n * so that reducers can easily compose action types\r\n */\r\nexport type Actions = Update;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/queues.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport * as fromRoot from '../reducers';\r\nimport * as queues from '../actions/queues';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { ListPage } from '../pages/list/list';\r\nimport { AuthProvider } from './../providers/auth.provider';\r\nimport { LoginPage } from './../pages/login/login';\r\nimport { UsersListPage } from '../pages/usersList/usersList';\r\nimport { LoadDataPage } from '../pages/load-data/load-data';\r\nimport { GetTicketAuthPage } from '../pages/get-ticket-auth/get-ticket-auth';\r\nimport { RoomsPage } from '../pages/rooms/rooms';\r\n\r\nimport { QueueService } from '../shared/queue.service';\r\nimport { ShopService } from '../shared/shops.service';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  rootPage: any = HomePage;\r\n\r\n  pages: Array<{title: string, component: any}>;\r\n\r\n  constructor(\r\n    public platform: Platform,\r\n    public statusBar: StatusBar,\r\n    public splashScreen: SplashScreen,\r\n    private store: Store<fromRoot.State>,\r\n    private authProvider: AuthProvider,\r\n    private queueService: QueueService,\r\n    private shopService: ShopService\r\n  ) {\r\n    this.initializeApp();\r\n\r\n    // used for an example of ngFor and navigation\r\n    this.pages = [\r\n      { title: 'Home', component: HomePage },\r\n      { title: 'List', component: ListPage },\r\n      { title: 'UsersList', component: UsersListPage },\r\n      { title: 'LoadData', component: LoadDataPage },\r\n      { title: 'GetTicketAuth', component: GetTicketAuthPage },\r\n      { title: 'Rooms', component: RoomsPage },\r\n    ];\r\n\r\n    // Observable queue\r\n    this.queueService.listenQueue('/granvia')\r\n      .subscribe(e => {\r\n        console.log('queue',e);\r\n      });\r\n\r\n    // Observable shops\r\n    this.shopService.listenShop()\r\n      .subscribe(e => {\r\n        console.log('shops',e);\r\n      });\r\n\r\n  }\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n\r\n  onLogout() {\r\n    this.authProvider.logout();\r\n    this.nav.setRoot(LoginPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const queues = {\r\n  \"granvia\":\r\n    new Array(5).fill({\r\n      userId: \"oRt6cJAgGDa8VIdo15g1zRLmnxL2\",\r\n      name: \"danicaldera\",\r\n      timestamp: new Date().getTime(),\r\n      wearCount: 3,\r\n      wearAvg: 300000\r\n    }),\r\n  \"sol\":\r\n    new Array(5).fill({\r\n      userId: \"oRt6cJAgGDa8VIdo15g1zRLmnxL2\",\r\n      name: \"danicaldera2\",\r\n      timestamp: new Date().getTime(),\r\n      wearCount: 3,\r\n      wearAvg: 150000\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/load-queue.ts","// This is just some sample data so you don't have to think of your own!\r\nexport const shops = {\r\n  \"granvia\": {\r\n    \"id\": \"granvia\",\r\n    \"name\": \"Zara Gran Vía\",\r\n    \"geolocation\": {\r\n      \"lat\": 0,\r\n      \"lng\": 0\r\n    },\r\n    \"wearAvg\": 0,\r\n    \"wearCount\": 0,\r\n    \"amountTimeSpent\": 0,\r\n    \"rooms\": {\r\n      \"0\": {\r\n        \"id\": 0,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"1\": {\r\n        \"id\": 1,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"2\": {\r\n        \"id\": 2,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"3\": {\r\n        \"id\": 3,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      }\r\n    }\r\n  },\r\n  \"preciados\": {\r\n    \"id\": \"preciados\",\r\n    \"name\": \"Zara Preciados\",\r\n    \"geolocation\": {\r\n      \"lat\": 0,\r\n      \"lng\": 0\r\n    },\r\n    \"wearAvg\": 0,\r\n    \"wearCount\": 0,\r\n    \"amountTimeSpent\": 0,\r\n    \"rooms\": {\r\n      \"0\": {\r\n        \"id\": 0,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"1\": {\r\n        \"id\": 1,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"2\": {\r\n        \"id\": 2,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"3\": {\r\n        \"id\": 3,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      }\r\n    }\r\n  },\r\n  \"sol\": {\r\n    \"id\": \"sol\",\r\n    \"name\": \"Zara Sol\",\r\n    \"geolocation\": {\r\n      \"lat\": 0,\r\n      \"lng\": 0\r\n    },\r\n    \"wearAvg\": 0,\r\n    \"wearCount\": 0,\r\n    \"amountTimeSpent\": 0,\r\n    \"rooms\": {\r\n      \"0\": {\r\n        \"id\": 0,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"1\": {\r\n        \"id\": 1,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"2\": {\r\n        \"id\": 2,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      },\r\n      \"3\": {\r\n        \"id\": 3,\r\n        \"occupied\": false,\r\n        \"tsStart\": null,\r\n        \"userId\": null\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/load-shops.ts","import { Injectable, NgZone } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { AngularFireDatabase } from 'angularfire2/database'\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/observable/of';\r\n\r\nimport { ObjQueue } from '../models/object-queue';\r\n\r\n//import * as fromRoot from './reducers';\r\n//import firebase = require('nativescript-plugin-firebase');\r\n//import { MONUMENTS_UPDATE } from './reducers/monuments';\r\n\r\n@Injectable()\r\nexport class QueueService {\r\n\r\n  queuesPath: string = '/queues';\r\n\r\n  constructor(private afDataBase: AngularFireDatabase) {}\r\n\r\n  getTimeEstimatedQueue(path) {\r\n    return this.afDataBase.list(this.queuesPath + path).valueChanges()\r\n      .switchMap((e: ObjQueue[]) => {\r\n        return Observable.of(this.formatTime(this.calculateTime(e)));\r\n      });\r\n  }\r\n\r\n  listenQueue(path): Observable<ObjQueue[]> {\r\n    return this.afDataBase.list(this.queuesPath + path).valueChanges();\r\n  }\r\n\r\n  getNextUser(path): any {\r\n    return this.afDataBase.list(this.queuesPath + path).valueChanges()\r\n      .switchMap((e: ObjQueue[]) => {\r\n        console.log('e', e);\r\n        return Observable.of(e[0]);\r\n      });\r\n  }\r\n\r\n  calculateTime(queue: ObjQueue[]) {\r\n    return queue\r\n      .reduce((acum, e) => e.wearAvg * e.wearCount + acum, 0);\r\n  }\r\n\r\n  formatTime(s: number) {\r\n    let ms = s % 1000;\r\n    s = (s - ms) / 1000;\r\n    let secs = s % 60;\r\n    s = (s - secs) / 60;\r\n    let mins = s % 60;\r\n    let hrs = (s - mins) / 60;\r\n    return this.addZero(hrs) + ':' + this.addZero(mins) + ':' + this.addZero(secs);\r\n  }\r\n\r\n  addZero(unitTime) {\r\n    const unitTimeStr = unitTime.toString();\r\n    if(unitTimeStr.length === 1) {\r\n      return '0' + unitTimeStr;\r\n    }\r\n    return unitTimeStr;\r\n  }\r\n\r\n  popUser(path: string): Promise<any> {\r\n\r\n    let user = null;\r\n    return this.afDataBase.database.ref(this.queuesPath + path).once('value').then(value => {\r\n      const object = value.val();\r\n      const key = Object.keys(object)[0];\r\n      user = object[key];\r\n      this.removeItemFromList(path,key);\r\n      return user;\r\n    })\r\n  }\r\n\r\n  removeItemFromList(path: string, key: string) {\r\n    this.afDataBase.list(this.queuesPath + path).remove(key);\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/queue.service.ts","import { Injectable, NgZone } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { AngularFireDatabase } from 'angularfire2/database'\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { Shop } from '../models/shop';\r\n\r\n@Injectable()\r\nexport class ShopService {\r\n\r\n  shopsPath: string = '/shops';\r\n\r\n  constructor(private afDataBase: AngularFireDatabase) {}\r\n\r\n  listenShop(path = ''): any {\r\n    if(path) {\r\n      return this.afDataBase.object(this.shopsPath + path).valueChanges();\r\n    }\r\n    return this.afDataBase.list(this.shopsPath + path).valueChanges();\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/shops.service.ts"],"sourceRoot":""}